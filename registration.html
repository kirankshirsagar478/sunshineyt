<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event-----Planner</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="style.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
    <header class="head">
        <a href="#" class="logo">
            <img src="img/logo.jpg" alt="Logo" class="logo-img">
            <!--span>Divya Kshirsagar</span-->
            <!--i class="fas fa-heart"></i-->
        </a>
        <nav class="navbar-custom">
            <a href="#" class="active">Home</a>
            <a href="#vendor">Service</a>
            <a href="#service">Gallery</a>
            <a href="#Aboutevents">About Events</a>
            <!--a href="#venue">Venue</a>
            <a href="#invite">E-invites</a-->
            <a href="#contact">Contact</a>
        </nav>
        <button class="btn-custom1">Register Yourself</button>
        <div id="menu-bar"><i class="fas fa-bars"></i></div>
    </header>
    <!------------------------services-------------------->
    <section class="service" id="service">
        <div class="title text-center">
            <h1><span>R</span>egister Yourself</h1>
        </div>
        <div class="container">
            <h2>Student Enrollment Form</h2>
            <div class="row justify-content-center">
                <form id="stuForm" method="post" class="col-md-6">
                    <div class="form-group">
                        <label for="stuId">Roll-No:</label> <label id="stuIdMsg"> </label>
                        <input type="text" class="form-control" onchange="getStu()" name="stuId" id="stuId" placeholder="Enter Roll-No" required />
                    </div>

                    <div class="form-group">
                        <label for="stuName">Full-Name:</label>
                        <input type="text" class="form-control" id="stuName" placeholder="Enter Student Full Name" name="stuName" />
                    </div>

                    <div class="form-group">
                        <label for="stuClass">Class:</label>
                        <input type="text" class="form-control" id="stuClass" placeholder="Enter Class" name="stuClass" />
                    </div>

                    <div class="form-group">
                        <label for="stuDOB">Birth-Date:</label>
                        <input type="date" class="form-control" id="stuDOB" placeholder="Select Birth-Date" name="stuDOB" />
                    </div>

                    <div class="form-group">
                        <label for="stuAddress">Address:</label>
                        <input type="text" class="form-control" id="stuAddress" placeholder="Enter Address" name="stuAddress" />
                    </div>

                    <div class="form-group">
                        <label for="stuEnrollDate">Enrollment-Date:</label>
                        <input type="date" class="form-control mb-3" id="stuEnrollDate" placeholder="Select Enrollment-Date" name="stuEnrollDate" />
                    </div>

                    <div class="form-group">
                        <input type="button" class="btn btn-success" id="empSave" value="Save" onclick="saveData();" />
                        <input type="button" class="btn btn-primary ml-2" id="empChange" value="Change" onclick="changeData();" />
                        <input type="button" class="btn btn-danger ml-2" id="empReset" value="Reset" onClick="resetForm()" />
                    </div>
                </form>
            </div>
        </div>
    </section>
    <!--------------------------------------------footer section--------------------------->
    <footer id="contact ">
        <div class="container-custom ">
            <div class="f-container-custom ">
                <h2>Sunshine Event - Your Personal Wedding Planner</h2><br>
                <p>Plan your wedding with Us SunShine is an Indian Wedding Planning Website </p>
                <div>
                    <button class="btn-custom ">Register as a Client</button>
                </div>
                <div class="social ">
                    <i class="fab fa-facebook "></i>
                    <i class="fab fa-instagram "></i>
                    <i class="fab fa-linkedin "></i>
                    <i class="fab fa-twitter "></i>
                    <i class="fab fa-pinterest "></i>
                </div>
            </div>
            <div class="f-container-custom ">
                <h2>Our Location in Pune</h2>
                <a href="# "><i class="fas fa-angle-right "></i>Pimpri Chinchwad</a>
                <a href="# "><i class="fas fa-angle-right "></i>Hinjewadi</a>
                <a href="# "><i class="fas fa-angle-right "></i>Warje</a>
                <a href="# "><i class=" fas fa-angle-right "></i>Nigadi</a>
                <a href=" # "><i class=" fas fa-angle-right "></i>Karvenagar</a>
                <a href=" # "><i class=" fas fa-angle-right "></i>Katraj</a>
            </div>

            <div class=" f-container-custom ">
                <h2>Address</h2>
                <p>Office Address: Sunshine Events Office, Samarth Heights, Lane No 5, Jadhavwadi, Pimpri Chinchwad, Pune-412105</p>
                <p>Contact Us :</p>
                <input type="text " placeholder="Enter your Location "><br><br>
                <input type=" text " placeholder=" Enter Your Email ">
                <button class=" btn-custom ">Enter</button>
            </div>
        </div>
    </footer>
    <div class=" copyright ">
        <p>Copyright Â©2024 All Rights Reserved </p>
    </div>
</body>

<script>
    let menu = document.querySelector('#menu-bar');
    let head = document.querySelector('.head .navbar');

    menu.onclick = () => {
        head.classList.toggle('active');
    };

    window.onscroll = () => {
        head.classList.remove('active');
        if (window.scrollY > 60) {
            document.querySelector('#menu-bar').classList.add('active');
        } else {
            document.querySelector('#menu-bar').classList.remove('active');
        }
    };
</script>
<script>
    function validateAndGetFormData() {
        var stuIdVar = $("#stuId").val();
        if (stuIdVar === "") {
            alert("Student Roll-No Required Value");
            $("#stuId").focus();
            return "";
        }
        var stuNameVar = $("#stuName").val();
        if (stuNameVar === "") {
            alert("Student Name is Required Value");
            $("#stuName").focus();
            return "";
        }
        var stuClassVar = $("#stuClass").val();
        if (stuClassVar === "") {
            alert("Student Class is Required Value");
            $("#stuClass").focus();
            return "";
        }

        var stuDOBVar = $("#stuDOB").val();
        if (stuDOBVar === "") {
            alert("Student Birth-Date is Required Value");
            $("stuDOB").focus();
            return "";
        }

        var stuAddressVar = $("#stuAddress").val();
        if (stuAddressVar === "") {
            alert("Student Address is Required Value");
            $("#stuAddress").focus();
            return "";
        }

        var stuEnrollDateVar = $("stuEnrollDate").val();
        if (stuEnrollDateVar === "") {
            alert("Student Enrollment-Date is Required Value");
            $("stuEnrollDate").focus();
            return "";
        }

        var jsonStrObj = {
            stuId: stuIdVar,
            stuName: stuNameVar,
            stuClass: stuClassVar,
            stuDOB: stuDOBVar,
            stuAddress: stuAddressVar,
            stuEnrollDate: stuEnrollDateVar,
        };
        return JSON.stringify(jsonStrObj);
    }

    function getstuIdASJsonObj() {
        var stuid = $("#stuid").val();
        var jsonStr = {
            id: stuid,
        };
        return JSON.stringify(jsonStr);
    }

    function getStu() {
        var stuIdJsonObj = getstuIdASJsonObj();
        var getRequest = createGET_BY_KEYRequest(
            connToken,
            stuDBName,
            stuRelationName,
            stuIdJsonObj
        );
        jQuery.ajaxSetup({
            async: false
        });
        var resJsonObj = executeCommandAtGivenBaseUrl(
            getRequest,
            jpdbBaseURL,
            jpdbURL
        );
        jQuery.ajaxSetup({
            async: true
        });
        if (resJsonObj.status === 400) {
            $("#save").prop("disabled", flase);
            $("#reset").prop("disabled", false);
            $("#stuname").focus();
        } else if (resJsonObj.status === 200) {
            $("#stuid").prop("disabled", true);
            fillData(resJsonObj);
            $("#change").prop("disabled", false);
            $("#reset").prop("disabled", false);
            $("#stuname").focus();
        }
    }

    function resetForm() {
        $("#stuId").val("");
        $("#stuName").val("");
        $("#stuClass").val("");
        $("#stuDOB").val("");
        $("#stuAddress").val("");
        $("#stuEnrollDate").val("");
        $("#stuId").focus();
    }

    function changeData() {
        $("#change").prop("disabled", true);
        jsonChg = validateData();
        var updateRequest = createUPDATERecordRequest(
            ConnToken,
            jsonChg,
            stuDBName,
            stuRelationName,
            localStorage.getItem("recno")
        );
        jQuery.ajaxSetup({
            async: falses
        });
        var resJsonObj = executeCommandAtGivenBaseUrl(
            updateRequest.jpdBaseURL,
            jpdbIML
        );
        jQuery.ajaxSetup({
            async: true
        });
        console.log(resJsonObj);
        resetForm();
        $("#stuID").focus();
    }

    function saveData() {
        // validate form data

        // create JPDB request string - token , dbname , relation name ...

        // Execute this request

        //Reset the form data

        var jsonStr = validateAndGetFormData();
        if (jsonStr === "") {
            return;
        }
        var putReqStr = createPUTRequest(
            "90932145|-31949221247820323|90963815",
            jsonStr,
            "SCHOOL-DB",
            "STUDENT-TABLE"
        );

        alert(putReqStr);

        jQuery.ajaxSetup({
            async: false
        });
        var resultObj = executeCommandAtGivenBaseUrl(
            putReqStr,
            "http://api.login2explore.com:5577",
            "/api/iml"
        );
        jQuery.ajaxSetup({
            async: true
        });

        alert(JSON.stringify(resultObj));
        resetForm();
    }
</script>


</html>