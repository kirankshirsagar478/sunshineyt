<!DOCTYPE html>
<html lang="en">

<head>
    <title>Event Planner</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://login2explore.com/jpdb/resources/js/0.0.3/jpdb-commons.js"></script>
</head>

<body>
    <header class="head">
        <a href="#" class="logo"><i class="fas fa-heart"></i>&nbsp;Wed<span>Me</span>Good&nbsp;<i class="fas fa-heart"></i></a>
        <nav class="navbar">
            <a href="#" class="active">Home</a>
            <a href="#service">Service</a>
            <a href="#vendor">Vendors</a>
            <a href="#venue">Venue</a>
            <a href="#invite">E-invites</a>
            <a href="#contact">Contact</a>
        </nav>
        <div id="menu-bar"><i class="fas fa-bars"></i></div>
    </header>

    <!---------------------------Home--------------------->
    <section class="home" id="home">
        <form action="#">
            <div class="search-box">
                <h1>Your Events, Your Way</h1>
                <p>Find the best Events vendors with thousands of trusted reviews</p>
                <select type="text" class="search-field">
                    <option disabled selected>Select Event type</option>
                    <option value="Opening Ceremony">Opening Ceremony</option>
                    <option value="Engagement Function">Engagement Function</option>
                    <option value="Family Function">Family Function</option>
                    <option value="Haldi Function">Haldi Function</option>
                    <option value="Birthday Decoration">Birthday Decoration</option>
                    <option value="Wedding Decoration">Wedding Decoration</option>
                </select>
                <select type="text" class="search-field">
                    <option disabled selected>Location</option>
                    <option value="Pune City">Pune City</option>
                    <option value="Pimpri">Pimpri</option>
                    <option value="Chinchwad">Chinchwad</option>
                    <option value="Bhosari">Bhosari</option>
                    <option value="Moshi">Moshi</option>
                    <option value="Alandi">Alandi</option>
                    <option value="Chikhali">Chikhali</option>
                    <option value="Chakan">Chakan</option>
                    <option value="Wagholi">Wagholi</option>
                    <option value="Akurdi/Nigdi/Dehu">Akurdi/Nigdi/Dehu</option>
                    <option value="Other">Other</option>
                </select>
                <button class="btn">Search</button>
            </div>
        </form>
    </section>

    <!------------------------services-------------------->
    <section class="service" id="service">
        <div class="title">
            <h1><span>R</span>egister Yourself</h1>
        </div>
        <div class="container">
            <h2>Student Enrollment Form</h2>
            <form id="stuForm" method="post">
                <div class="form-group">
                    <label for="stuId">Roll-No:</label>
                    <input type="text" class="form-control" onchange="getStu()" name="stuId" id="stuId" placeholder="Enter Roll-No" required />
                    <label id="stuIdMsg"></label>
                </div>
                <div class="form-group">
                    <label for="stuName">Full Name:</label>
                    <input type="text" class="form-control" id="stuName" placeholder="Enter Student Full Name" name="stuName" />
                </div>
                <div class="form-group">
                    <label for="stuClass">Class:</label>
                    <input type="text" class="form-control" id="stuClass" placeholder="Enter Class" name="stuClass" />
                </div>
                <div class="form-group">
                    <label for="stuDOB">Birth Date:</label>
                    <input type="date" class="form-control" id="stuDOB" name="stuDOB" />
                </div>
                <div class="form-group">
                    <label for="stuAddress">Address:</label>
                    <input type="text" class="form-control" id="stuAddress" placeholder="Enter Address" name="stuAddress" />
                </div>
                <div class="form-group">
                    <label for="stuEnrollDate">Enrollment Date:</label>
                    <input type="date" class="form-control" id="stuEnrollDate" name="stuEnrollDate" />
                </div>
                <input type="button" class="btn btn-success" id="empSave" value="Save" onclick="saveData();" />
                <input type="button" class="btn btn-primary" id="empChange" value="Change" onclick="changeData();" />
                <input type="button" class="btn btn-danger" id="empReset" value="Reset" onclick="resetForm()" />
            </form>
        </div>
    </section>

    <!--------------------------------------------footer section--------------------------->
    <footer id="contact">
        <div class="container">
            <div class="f-container">
                <h2>WedMeGood - Your Personal Wedding Planner</h2><br>
                <p>Plan your wedding with Us. WedMeGood is an Indian Wedding Planning Website.</p>
                <div>
                    <button class="btn">Register as a Vendor</button>
                </div>
                <div class="social">
                    <i class="fab fa-facebook"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-linkedin"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-pinterest"></i>
                </div>
            </div>
            <div class="f-container">
                <h2>Our Location</h2>
                <a href="#"><i class="fas fa-angle-right"></i>Anand</a>
                <a href="#"><i class="fas fa-angle-right"></i>Vadodara</a>
                <a href="#"><i class="fas fa-angle-right"></i>Mumbai</a>
                <a href="#"><i class="fas fa-angle-right"></i>Ahmedabad</a>
                <a href="#"><i class="fas fa-angle-right"></i>Surat</a>
            </div>
            <div class="f-container">
                <h2>Our Newsletter</h2>
                <p>Subscribe for latest updates</p>
                <input type="text" placeholder="Enter Your Email">
                <button class="btn">Subscribe</button>
            </div>
        </div>
    </footer>
    <div class="copyright">
        <p>Copyright Â©2022 All Rights Reserved | Knowledge Place KP</p>
    </div>

    <script>
        let menu = document.querySelector('#menu-bar');
        let head = document.querySelector('.head .navbar');

        menu.onclick = () => {
            head.classList.toggle('active');
        };

        window.onscroll = () => {
            head.classList.remove('active');
            if (window.scrollY > 60) {
                document.querySelector('#menu-bar').classList.add('active');
            } else {
                document.querySelector('#menu-bar').classList.remove('active');
            }
        };
    </script> 
    <script>
        function validateAndGetFormData() {
            var stuIdVar = $("#stuId").val();
            if (stuIdVar === "") {
                alert("Student Roll-No is a Required Value");
                $("#stuId").focus();
                return "";
            }
            var stuNameVar = $("#stuName").val();
            if (stuNameVar === "") {
                alert("Student Name is a Required Value");
                $("#stuName").focus();
                return "";
            }
            var stuClassVar = $("#stuClass").val();
            if (stuClassVar === "") {
                alert("Student Class is a Required Value");
                $("#stuClass").focus();
                return "";
            }

            var stuDOBVar = $("#stuDOB").val();
            if (stuDOBVar === "") {
                alert("Student Birth-Date is a Required Value");
                $("#stuDOB").focus();
                return "";
            }

            var stuAddressVar = $("#stuAddress").val();
            if (stuAddressVar === "") {
                alert("Student Address is a Required Value");
                $("#stuAddress").focus();
                return "";
            }

            var stuEnrollDateVar = $("#stuEnrollDate").val();
            if (stuEnrollDateVar === "") {
                alert("Student Enrollment-Date is a Required Value");
                $("#stuEnrollDate").focus();
                return "";
            }

            var jsonStrObj = {
                rollNo: stuIdVar,
                name: stuNameVar,
                class: stuClassVar,
                birthDate: stuDOBVar,
                address: stuAddressVar,
                enrollmentDate: stuEnrollDateVar,
            };
            return JSON.stringify(jsonStrObj);
        }

        function saveData() {
            var jsonStr = validateAndGetFormData();
            if (jsonStr === "") {
                return;
            }

            var putReqStr = createPUTRequest(
                "http://api.login2explore.com:5577",
                jsonStr,
                "STUDENT-TABLE",
                "12345"
            );

            alert("Save request: " + putReqStr);

            jQuery.ajaxSetup({ async: false });
            var resultObj = executeCommand(putReqStr, "http://api.login2explore.com:5577", "/api/irl");
            jQuery.ajaxSetup({ async: true });

            alert(JSON.stringify(resultObj));
            resetForm();
        }

        function changeData() {
            var jsonStr = validateAndGetFormData();
            if (jsonStr === "") {
                return;
            }

            var updateReqStr = createUPDATERecordRequest(
                "http://api.login2explore.com:5577",
                jsonStr,
                "STUDENT-TABLE",
                "12345"
            );

            alert("Update request: " + updateReqStr);

            jQuery.ajaxSetup({ async: false });
            var resultObj = executeCommand(updateReqStr, "http://api.login2explore.com:5577", "/api/irl");
            jQuery.ajaxSetup({ async: true });

            alert(JSON.stringify(resultObj));
            resetForm();
        }

        function resetForm() {
            $("#stuId").val("");
            $("#stuName").val("");
            $("#stuClass").val("");
            $("#stuDOB").val("");
            $("#stuAddress").val("");
            $("#stuEnrollDate").val("");
        }

        function getStu() {
            var stuIdVar = $("#stuId").val();
            if (stuIdVar === "") {
                alert("Student Roll-No is a Required Value");
                $("#stuId").focus();
                return "";
            }

            var getReqStr = createGET_BY_KEYRequest(
                "http://api.login2explore.com:5577",
                "STUDENT-TABLE",
                "12345",
                { rollNo: stuIdVar }
            );

            alert("Get request: " + getReqStr);

            jQuery.ajaxSetup({ async: false });
            var resultObj = executeCommand(getReqStr, "http://api.login2explore.com:5577", "/api/irl");
            jQuery.ajaxSetup({ async: true });

            alert(JSON.stringify(resultObj));
            fillData(resultObj);
        }

        function fillData(data) {
            if (data.status === 400) {
                resetForm();
                return;
            }

            var student = JSON.parse(data.data);
            $("#stuId").val(student.rollNo);
            $("#stuName").val(student.name);
            $("#stuClass").val(student.class);
            $("#stuDOB").val(student.birthDate);
            $("#stuAddress").val(student.address);
            $("#stuEnrollDate").val(student.enrollmentDate);
        }
    </script>
</body>

</html>
